<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8" />
<script type="text/javascript" src="D3/d3.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/d3/3.4.4/d3.min.js"></script>
<link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet-0.7/leaflet.css"/>
<script type="text/javascript" src="D3/d3pie-master/d3pie/d3pie.min.js"></script>
<script src="Leaflet/leaflet.js"> </script>
<script src="/heatmap.js-master/build/heatmap.js"> </script>
<script src="/heatmap.js-master/plugins/leaflet-heatmap.js"> </script>
<script src="/leaflet-div-heatmap-master/src/leaflet-div-heatmap.js"> </script>
<link rel="stylesheet" type="text/css" href="Style.css">
<script src='https://api.mapbox.com/mapbox.js/v2.2.1/mapbox.js'></script>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js" type="text/javascript"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
<script src='https://api.mapbox.com/mapbox.js/v2.2.3/mapbox.js'></script>
<link href='https://api.mapbox.com/mapbox.js/v2.2.3/mapbox.css' rel='stylesheet' />
<script src="http://code.jquery.com/jquery-1.11.3.min.js"></script>
<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/leaflet.css"/>
<link href='//fonts.googleapis.com/css?family=Bungee Inline' rel='stylesheet'>

<!-- Add your external js file here-->
<script src="/functions/FILENAME.js"> </script>
<script src="/Data/region.js"> </script> 



<link rel="stylesheet" href="leaflet-graphicscale-master/dist/Leaflet.GraphicScale.min.css" />
<link href='http://fonts.googleapis.com/css?family=Italianno' rel='stylesheet' type='text/css'>
<link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=Open+Sans" />
</head>

<body>
<script src='https://api.mapbox.com/mapbox.js/plugins/leaflet-heat/v0.1.3/leaflet-heat.js'></script>
<script src='https://api.mapbox.com/mapbox.js/plugins/leaflet-image/v0.0.4/leaflet-image.js'></script>
<script src="/leaflet-graphicscale-master/dist/Leaflet.GraphicScale.min.js"></script>
<script src='https://api.mapbox.com/mapbox.js/plugins/leaflet-label/v0.2.1/leaflet.label.js'></script>
<link href='https://api.mapbox.com/mapbox.js/plugins/leaflet-label/v0.2.1/leaflet.label.css' rel='stylesheet' />

 <!-------------------------------------- HTML ------------------------------------------->
<!--NAjat is here-->
 
<div class="container">

   <div class="box" id="main_box">
           <button  id="homeButton" onclick="showHome()"> <img style="height:17px;"src ="Images/home.png"/>  </button>
           <button  id="homeButton" onclick="showHome()"> <img style="height:17px;"src ="Images/info.png"/>  </button>

        <ul id="IWButtContainer" >
          <li id="IWButtons" > <a  class="IWLink" href="#home">Natural </a>     </li>
          <li id="IWButtons" > <a  class="IWLink" href="#news">Human </a>       </li>
          <li id="IWButtons" > <a class="IWLink" href="#contact">Produced </a> </li>
        </ul>
    <div id= "main_button_container">
        <div id="main_box_content">
           
   
        
 <table class="mainTable" >
     <tr>
         <th colspan="3">  <p id="mainHeaderLabel">Intelligent Systems</p></th>
         
     </tr>
      <tr>
        <td><button  class="button" onclick="showDesal() "><img class="button" id="image" src ="Images/env.png"/>   </button>
        <p id="mainButLabel" ><br>Environmental Systems</p></td>
        <td>            <button  class="button" onclick="showDesal()"><img class="button" id="image" src ="Images/drop.png"/>   </button>
            
            <p id="mainButLabel" ><br>Water Management</p>  </td>
        <td>            <button  class="button" onclick="showDesal()"><img class="button" id="image" src ="Images/Energy.png"/>   </button>
            
            <p id="mainButLabel" ><br>Energy Planning</p> </td>
      </tr>
      <tr>
        <td> <button  class="button" onclick="showDesal()"><img class="button" id="image" src ="Images/Mobility.png"/>   </button>
            
            <p id="mainButLabel" ><br>Mobility Dynamics</p></td>
        <td> <button  class="button" onclick="showDesal()"><img class="button" id="image" src ="Images/Urban.png"/>   </button>
            
            <p id="mainButLabel" ><br>Urban Development</p>
            </td>
        <td>            <button  class="button" onclick="showDesal()"><img class="button" id="image" src ="Images/Social.png"/>   </button>
            
            <p id="mainButLabel" ><br>Social Analyitics</p></td>
      </tr>
      <tr>
        <td><button  class="button" onclick="showDesal()"><img class="button" id="image" src ="Images/labor.png"/>   </button>
            
            <p id="mainButLabel" ><br>Labor Market</p></td>
        <td>  <button  class="button" onclick="showDesal()"><img class="button" id="image" src ="Images/Tech.png"/>   </button>
            
            <p id="mainButLabel" ><br>Technological Evolution</p></td>
        <td>     <button  class="button" onclick="showIW()"><img class="button" id="image" src ="Images/ResourceAl.png"/></button>
           
            <p id="mainButLabel"><br>Resource Allocation</p></td>
      </tr>
  </table>
           
           </div>
            

        </div>
    
    </div>
    <!-- Map -->     
    <div id="map" class ="map"> </div>


    </div>
    

      
      
 <!-------------------------------------- HTML END ------------------------------------------>



	 <script>
    // Creating the map using mapbox
    var map;
    var token = L.mapbox.accessToken = 'pk.eyJ1IjoiYWxtYWhhIiwiYSI6ImM4M2YxY2U3ZDVhNTg3YjdkZWI0MDRkNmU5YzU5NWI4In0.5g65rHetoEtp1RqK8t2gsA';
    var mapKey = 'https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token=' +  token;
    window.map = L.mapbox.map('map', 'mapbox.light', {zoomControl:false}).setView([21.2954, 55.6794],5);
    //move the map left/right: [ up/down , right/left ] up less, left more.

         
    L.tileLayer(mapKey, {id: 'mapbox.light'}).addTo(map);

  
   //Jo
   function showDesal(){   
    document.getElementById("main_button_container").style.display='none';
    map.setView([25.2954, 50.6794],7)}
 
  var IWlayer;  
  function showIW(){
     
     
     document.getElementById("IWButtContainer").style.display='block';
    document.getElementById("main_button_container").style.display='none';
     map.setView([21.2954, 55.6794],5);
     

    new L.Control.Zoom({ position: 'topright' }).addTo(map);
    map._initPathRoot();
         
         
         //najat
         
         function getColor(d) {
    return "#000"; 
          
}
         
        function style(feature) {
        return {
        fillColor: getColor(feature.properties.Shape_Area),
        weight: 2,
        opacity: 1,
        color: 'white',
        dashArray: '3',
        fillOpacity: 0.7
    };
}

         
         
         
   function highlightFeature(e) {
    var layer = e.target;

    layer.setStyle({
        weight: 2,
        fillColor:'#333',
        dashArray: '',
        fillOpacity: 0.5
        
    });

    if (!L.Browser.ie && !L.Browser.opera && !L.Browser.edge) {
        layer.bringToFront();
    }
       
       
       // specify popup options 
var customOptions =
        {
        'maxWidth': '500',
        'className' : 'custom'
        }
    
      layer.bindPopup(layer.feature.properties.ProvName_e +'',customOptions)
	        .openPopup();
}
        

         
function resetHighlight(e) {
    
    IWlayer.resetStyle(e.target);

}
         

         
function onEachFeature(feature, layer) {
    layer.on({
        mouseover: highlightFeature,
        mouseout: resetHighlight

    });
}

IWlayer = L.geoJson(region, {
    style: style,
    onEachFeature: onEachFeature
}).addTo(map);
    }

function showHome(){
    document.getElementById("main_button_container").style.display='block';
    document.getElementById("IWButtContainer").style.display='none';
    map.setView([21.2954, 55.6794],5);
    map.removeLayer(IWlayer);
    
}
         
         


</script>
</body>
</html>